---
# OpenShift-Cluster-Variablen
clustername: "ocp-patrick"
domainname: "home.local"
clusternetwork: "10.254.0.0/16"
servicenetwork: "10.255.0.0/16"
version_coreos: "4.4.17"
version_openshift: "4.4.22"

key_to_nodes_dir: "/root/.ssh/"
key_to_nodes_name: "id_{{ clustername }}_nodes"

# Arbeitsverzeichnisse
dir_working: "/opt/sva/"
dir_tools: "{{ dir_working }}tools/"
dir_cluster: "{{ dir_working }}{{ clustername }}/"
dir_install_config: "{{ dir_working }}{{ clustername }}/install-config/"
dir_mnt: "/mnt/sw_pool/"
dir_http_server_subdir: "ocp/"
dir_http_server: "/var/www/html/{{ dir_http_server_subdir }}"
dir_dir_tftp_root: "{{ dir_working }}tftp-root/"
dir_coreos_files: "coreos_files/"
dir_terraform: "{{ dir_tools }}terraform/"
dir_backup: "{{ dir_working }}backup/"
dir_backup_manifest_files: "{{ dir_backup }}manifest-files/"
dir_backup_ignition_files: "{{ dir_backup }}ignition-files/"
dir_backup_ssh_keys: "{{ dir_backup }}ssh-keys/"
dir_backup_tftp: "{{ dir_backup }}tftp/"
dir_backup_install_config: "{{ dir_backup }}install-config/"
dir_backup_dnsmasq: "{{ dir_backup }}dnsmasq/"
dir_post_install_config: "{{ dir_cluster }}post_install_config"
dir_certs: "{{ dir_cluster }}certs/"

# NFS-Mount Section
src_nas_mount: "nas.home.local:/volume1/nfs-iso/..."
sw_pool: "/mnt/sw_pool/"

# CoreOS-Image-Section
coreos_compressed_metal_raw_image: ""
coreos_kernel: ""
coreos_initramfs: ""

# OpenShift Client/Tools
filename_oc_cli_tar_filename: ""
filename_openshift_install_tar_filename: ""

# Terraform / VM /vSphere-Section
tf_jinja_template: "template-ocp-master-worker-nodes.j2"
tf_filename_main_tf: "main.tf"
vsphere_user: ""
vsphere_pass: ""
vpshere_server: ""
vsphere_datacenter: ""
vsphere_datastore: ""
vsphere_rp: ""
vsphere_network: ""
vsphere_folder: ""

# Hardware-Environment (CPU, RAM, DISK)
vsphere_master_cpu: "8"
vsphere_master_ram: "32768"
vsphere_master_disksize: "200"
vsphere_worker_cpu: "16"
vsphere_worker_ram: "32768"
vsphere_worker_disksize: "200"

# Master/Worker-Node Parameter (Name, IP, MAC,)
# Master-Nodes
masters:
  - name: "master01"
    hostname: "ocpmaster01"
    ip: "192.168.1.1"
    mac: "ff:ee:dd:cc:bb:a1"
    datastore: "datastore1"
  - name: "master02"
    hostname: "ocpmaster02"
    ip: "192.168.1.2"
    mac: "ff:ee:dd:cc:bb:a2"
    datastore: "datastore2"
  - name: "master03"
    hostname: "ocpmaster03"
    ip: "192.168.1.3"
    mac: "ff:ee:dd:cc:bb:a3"
    datastore: "datastore3"

# Worker-Nodes
workers:
  - name: "worker01"
    hostname: "ocpworker01"
    ip: ""
    mac: ""
    datastore: ""
  - name: "worker02"
    hostname: "ocpworker02"
    ip: ""
    mac: ""
    datastore: ""
  - name: "worker03"
    hostname: "ocpworker03"
    ip: ""
    mac: ""
    datastore: ""

# Bootstrap-Node
bstrp:
  - name: "bootstrap"
    hostname: ""
    ip: ""
    mac: ""
    datastore: ""

# Bastion-Host
bastion:
  name: "bastion"
  hostname: ""
  ip: ""

# Load-Balancers
lb:
  - name: "loadbalancers"
  app:
    ip: "{{ bastion.ip }}"
  api:
    ip: "{{ bastion.ip }}"
  api_int:
    ip: "{{ bastion.ip }}"

# DNSMASQ-Einstellungen
# DHCP
dhcp_range: ""
dhcp_subnetmask: ""
dhcp_gateway: ""
ntpserver: ""

interface: "eth0"
listen_address: "{{ bastion.ip }}"
dnsserver: "{{ bastion.ip }}"
boot_script: "pxelinux.0"

# Install-config.yaml Einstellungen
pull_secret_file_name: "pull-secret"
cert_file_name: "cert_registry.crt"

# Image-Registry
image_registry_name: "registry.home.local"

image_block: |
  imageContentSources:
  - mirrors: 
    - {{ image_registry_name }}/ocp_v{{ version_openshift }}-x86_64
    source: quay.io/openshift-release-dev/ocp-release
  - mirrors: 
    - {{ image_registry_name }}/ocp_v{{ version_openshift }}-x86_64
    source: quay.io/openshift-release-dev/ocp-v4.0-art-dev

# Post-Installation-Configuration
kubeconfig_path: "{{ dir_install_config }}auth/kubeconfig"
kubeconfig_certs_filename: "certs_from_kubeconfig.pem"

# NFS-Provisioner
pull_secret_fullpath: "{{ dir_cluster }}{{ pull_secret_file_name }}"
storage_class_name: "managed-nfs-storage"
nfs_client_provisioner_image: ""
nfs_server: "gpfs_server"
nfs_name: "gpfs_server"
nfs_path: "/gpfs/nfs"

# LDAP-Einstellungen

# Image-Pruning-Section
prune_image_schedule: "5 14 * * *"
















