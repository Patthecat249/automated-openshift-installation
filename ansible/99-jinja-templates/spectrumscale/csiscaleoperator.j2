---
apiVersion: csi.ibm.com/v1
kind: "CSIScaleOperator"
metadata:
  name: "ibm-spectrum-scale-csi"
  namespace: "ibm-spectrum-scale-csi-driver"
  labels:
    app.kubernetes.io/name: ibm-spectrum-scale-csi-operator
    app.kubernetes.io/instance: ibm-spectrum-scale-csi-operator
    app.kubernetes.io/managed-by: ibm-spectrum-scale-csi-operator
    release: ibm-spectrum-scale-csi-operator
status: {}
spec:
  clusters:
    - id: "{{cnsa-cluster-id}}"
      secrets: "{{secret_name_cnsa_cluster}}"
      secureSslMode: false
      primary:
        primaryFs: "gpfs0"
      restApi:
        - guiHost: "{{workers[0].ip}}"
    - id: "{{storage-cluster-id}}"
      secrets: "{{secret_name_storage_cluster}}"
      secureSslMode: false
      restApi:
        - guiHost: "{{sps.sps3.ip}}"
  attacherNodeSelector:
    - key: "scale"
      value: "true"
  provisionerNodeSelector:
    - key: "scale"
      value: "true"
  pluginNodeSelector:
    - key: "scale"
      value: "true"
  snapshotterNodeSelector:
    - key: "scale"
      value: "true"
---